import{f as a,Q as l,y as e,g as s,h as o,b as t,a as n,w as f,c as r,m as u,F as i,i as c,o as d,l as v,k as p,e as A,t as g,z as m,R as w,D as y,M as S,v as k,T}from"./index-Ds1uBd_9.js";import{_ as b}from"./uni-icons.CFkbRkFL.js";import{r as h}from"./uni-app.es.C8rTvpW-.js";import{_ as F,s as H,o as J}from"./index.CiApdTwd.js";import{u as K}from"./musicInfo.DYuFmyL1.js";import L from"./pages-index-banner-rankingPlaylist-comment-comment.B-QtUzgf.js";import"./uni-list.BALGEdCL.js";import"./uni-section.BY6HD_hr.js";const B=F({__name:"audio",setup(F){const B=a(!1),G=()=>{console.log(222222),B.value=!0},R=a(0);a("");const D=a(null),P=l();P.autoplay=!0;const j=a(!0);let M;const Y=a(0),C=a(0),X=K();X.getSongs().then((()=>{D.value=X.playList[R.value],e((()=>D.value),(async()=>{var a,l,e;P.src="",w({title:null==(a=D.value)?void 0:a.name});const s=await H(null==(l=D.value)?void 0:l.id);if(!s.success)return j.value=!1,Y.value=0,C.value=0,P.offCanplay(),P.offTimeUpdate(),y({title:s.message,icon:"error"}),void(M=setTimeout((()=>{S(),clearTimeout(M)}),1e3));const o=await J(null==(e=D.value)?void 0:e.id);console.log(9999999,o,o.data[0].url),P.src=o.data[0].url,P.onCanplay((()=>{Y.value=P.duration,C.value=P.currentTime,P.play()})),P.onTimeUpdate((()=>{C.value=P.currentTime})),P.onEnded((()=>{R.value++}))}),{deep:!0,immediate:!0}),e((()=>R.value),(()=>{S(),clearTimeout(M),D.value=X.playList[R.value]}),{immediate:!0})}));const I=s((()=>j.value?"../../static/icon/zanting.png":"../../static/icon/bofang.png")),U=()=>{j.value=!j.value,P.paused?P.play():P.pause()},Z=a=>{0!==R.value||-1!==a?R.value!==X.playList.length-1||1!==a?R.value+=a:R.value=0:R.value=X.playList.length-1},O=a=>a>=10?a:"0"+a,z=a=>`${O(Math.floor(a/60))}:${O(parseInt(a%60))}`,N=a=>{P.seek(a.detail.value/100*Y.value)};return(a,l)=>{var e;const s=c,w=k,y=h(o("uni-icons"),b),S=T;return d(),t(i,null,[n(s,{class:"bg"},{default:f((()=>{var a;return[n(s,{class:"blur",style:v({backgroundImage:`url(${null==(a=D.value)?void 0:a.al.picUrl})`})},null,8,["style"]),n(s,{class:"rotate"},{default:f((()=>[n(s,{class:"discs"},{default:f((()=>[n(s,{class:p(["img",{animate:j.value}])},{default:f((()=>{var a;return[n(w,{style:{width:"800rpx"},src:null==(a=D.value)?void 0:a.al.picUrl,mode:""},null,8,["src"])]})),_:1},8,["class"])])),_:1})])),_:1}),n(s,{class:"control"},{default:f((()=>[n(s,{class:"icons-bar"},{default:f((()=>[n(y,{type:"heart",size:"40",color:"#ffffff"}),n(y,{type:"chat",size:"40",color:"#ffffff",onClick:G})])),_:1}),n(s,{class:"progress"},{default:f((()=>[n(s,{class:"time"},{default:f((()=>[A(g(z(C.value)),1)])),_:1}),n(S,{value:C.value/Y.value*100,activeColor:"#10AEFF",backgroundColor:"#ffffff","block-color":"#ffffff","block-size":"10",onChange:N},null,8,["value"]),n(s,{class:"time"},{default:f((()=>[A(g(z(Y.value)),1)])),_:1})])),_:1}),n(s,{class:"play-bar"},{default:f((()=>[m(X).isLoop?(d(),r(y,{key:1,class:"icon",type:"loop",color:"#ffffff",onClick:l[1]||(l[1]=a=>m(X).playMethod(!1))})):(d(),r(w,{key:0,class:"icon",src:"data:image/png;base64,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",mode:"widthFix",onClick:l[0]||(l[0]=a=>m(X).playMethod(!0))})),n(y,{class:"icon",type:"arrow-left",color:"#ffffff",onClick:l[2]||(l[2]=a=>Z(-1))}),n(w,{class:"icon nobg",src:I.value,mode:"widthFix",onClick:U},null,8,["src"]),n(y,{class:"icon",type:"arrow-right",color:"#ffffff",onClick:l[3]||(l[3]=a=>Z(1))}),n(y,{class:"icon",type:"list",color:"#ffffff"})])),_:1})])),_:1})]})),_:1}),B.value?(d(),r(L,{key:0,onHide:l[4]||(l[4]=a=>B.value=!1),songId:null==(e=D.value)?void 0:e.id},null,8,["songId"])):u("",!0)],64)}}},[["__scopeId","data-v-9fbccb03"]]);export{B as default};
