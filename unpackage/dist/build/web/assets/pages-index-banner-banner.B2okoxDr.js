import{f as a,c as e,w as t,i as l,o as s,a as n,b as r,r as i,F as o,S as u,e as c,t as d,n as m,D as f,v,P as g,p}from"./index-Ds1uBd_9.js";import{_,n as b}from"./index.CiApdTwd.js";import{u as x}from"./userInfo.BsM0yhWu.js";const k=_({__name:"banner",setup(_){const k=x(),I=a([]),S=a(!0),w=a(!0),y=a(5e3),E=a(500),j=a([]);return(async()=>{const a=await b();localStorage.setItem("data",JSON.stringify(a.data.blocks)),localStorage.getItem("data")?(j.value=JSON.parse(localStorage.getItem("data"))[1].creatives[0].resources,I.value=JSON.parse(localStorage.getItem("data"))[0].extInfo.banners):(j.value=a.data.blocks[1].creatives[0].resources,I.value=a.data.blocks[0].extInfo.banners)})(),(a,_)=>{const b=v,x=l,F=g,J=u,N=p;return s(),e(x,{class:"box"},{default:t((()=>[n(x,{class:"banner"},{default:t((()=>[n(x,{class:"uni-margin-wrap"},{default:t((()=>[n(J,{class:"swiper",circular:"","indicator-dots":S.value,autoplay:w.value,interval:y.value,duration:E.value},{default:t((()=>[(s(!0),r(o,null,i(I.value,(a=>(s(),e(F,{key:a.targetId},{default:t((()=>[n(x,{class:"swiper-item uni-bg-red"},{default:t((()=>[n(b,{src:a.pic,mode:"widthFix"},null,8,["src"])])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["indicator-dots","autoplay","interval","duration"])])),_:1})])),_:1}),n(x,{class:"nav"},{default:t((()=>[(s(!0),r(o,null,i(j.value,(a=>(s(),e(x,{class:"nav-item",key:a.uiElement.mainTitle.title,onClick:e=>{return"排行榜"===(t=a.uiElement.mainTitle.title)&&m({url:"/pages/index/banner/rank/rank"}),void("每日推荐"===t&&(k.account?m({url:"/pages/index/banner/recommend/recommend"}):(f({title:"请先登录",duration:2e3,icon:"fail"}),m({url:"/pages/login/login"}))));var t}},{default:t((()=>[n(x,{class:"img"},{default:t((()=>[n(b,{src:a.uiElement.image.imageUrl,mode:"widthFix"},null,8,["src"])])),_:2},1024),n(N,null,{default:t((()=>[c(d(a.uiElement.mainTitle.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-58776a4c"]]);export{k as default};
